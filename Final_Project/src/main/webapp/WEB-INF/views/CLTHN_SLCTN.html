<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>옷 선택</title>
  <link rel="stylesheet" href="/src/main/webapp/resources/css/style.css">
  <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>

<body>
  <header>
    <div id="TOP" class="flex">
      <div><a href=""><img src="/src/main/webapp/resources/img/MainLogo.png" alt="" class="main_Logo"></a></div>
      <div class="flex header_main">
        <div><a href="">
            <h1 id="header_font">COORDI FOR SHOES</h1>
          </a></div>
        <div><a href="">서비스소개</a><a href="">공지사항</a></div>
      </div>
      <div class="flex header_left">
        <div><a href="">로그인</a><a href="">회원가입</a></div>
      </div>
    </div>
  </header>
  <main style="display: flex;">
    <div class="tab_wrap tab_area">
      <div class="btn_area clearfix">
        <button class="btn btn_tab act" data-depth="0" data-idx="0">내옷장</button>
        <button class="btn btn_tab" data-depth="0" data-idx="1">추천옷장</button>
      </div>
      <!-- 첫번째 항목 -->
      <div class="content_area act" data-depth="0" data-idx="0">
        <button type="button" class="collapsible" onclick="collapse(this);">상의 TOP</button>
        <div class="content">
          <div style="margin-top : 1em; margin-bottom: 1em;
                      display: flex; 
                      justify-content: space-around;
                      flex-direction: column;
                      align-items: center;"> <!-- 호주띠 css 끝나면 작업 -->
            <a onclick="abcd()" style="cursor: pointer;">전체</a>
            <a href="#">니트/스웨터</a>
            <a href="#">후드티셔츠</a>
            <a href="#">피케/카라 티셔츠</a>

          </div>
        </div>
        <button type="button" class="collapsible" onclick="collapse(this);">제목 2</button>
        <div class="content">
          <p>내용 2 입니다.</p>
        </div>
        <button type="button" class="collapsible" onclick="collapse(this);">제목 3</button>
        <div class="content">
          <p>내용 3 입니다.</p>
        </div>
      </div>
      <!-- 두번째 항목 -->
      <div class="content_area" data-depth="0" data-idx="1">
        <p>Second tab content</p>
        <div class="tab_area">
          <div class="btn_area clearfix">
            <button class="btn btn_tab act" data-depth="1" data-idx="0">1-1</button>
            <button class="btn btn_tab" data-depth="1" data-idx="1">Second</button>
            <button class="btn btn_tab" data-depth="1" data-idx="2">Third</button>
            <button class="btn btn_tab" data-depth="1" data-idx="3">Fourth</button>
          </div>

          <div class="content_area act" data-depth="1" data-idx="0">2Depth First tab content</div>
          <div class="content_area" data-depth="1" data-idx="1">2Depth Second tab content</div>
          <div class="content_area" data-depth="1" data-idx="2">2Depth Third tab content</div>
          <div class="content_area" data-depth="1" data-idx="3">2Depth Fourth tab content</div>
        </div>
      </div>
      <div class="content_area" data-depth="0" data-idx="2">
        <p>Third tab content</p>
        <div class="tab_area">
          <div class="btn_area clearfix">
            <button class="btn btn_tab act" data-depth="1" data-idx="0">First</button>
            <button class="btn btn_tab" data-depth="1" data-idx="1">Second</button>
            <button class="btn btn_tab" data-depth="1" data-idx="2">Third</button>
            <button class="btn btn_tab" data-depth="1" data-idx="3">Fourth</button>
          </div>

          <div class="content_area act" data-depth="1" data-idx="0">2Depth First tab content</div>
          <div class="content_area" data-depth="1" data-idx="1">2Depth Second tab content</div>
          <div class="content_area" data-depth="1" data-idx="2">2Depth Third tab content</div>
          <div class="content_area" data-depth="1" data-idx="3">2Depth Fourth tab content</div>
        </div>
      </div>
      <div class="content_area" data-depth="0" data-idx="3">Fourth tab content</div>
    </div>

    <div id="viewCLOSET" style="display: none; flex-direction: column; background-color: whitesmoke;">
      <h1>전체</h1>
      <a onclick="select()" style="cursor: pointer;"><img id="selectimg1" src="/src/main/webapp/resources/img/img1.jpg" width="100px" height="100px"></a>
      <a onclick="select()" style="cursor: pointer;"><img id="selectimg2" src="/src/main/webapp/resources/img/img2.jpg" width="100px" height="100px"></a>
      <a onclick="select()" style="cursor: pointer;"><img id="selectimg3" src="/src/main/webapp/resources/img/img3.jpg" width="100px" height="100px"></a>
    </div>

    <div id="viewCLOSET" style="margin-left:1em">
      <h3>상의</h3>
      <div>
        <a onclick="fit()" style="cursor: pointer;">
          <img id="choose" style="display : none;" src="/src/main/webapp/resources/img/img1.jpg" width="100px" height="100px">
        </a>
      </div>
    </div>

    <div style="margin-left: 3em; background-color: bisque; width: 500px; height: 500px; position: relative"> <!-- 옷 입히는 div -->
      <span style="cursor: hand;">
        <img id="fitting" style="display : none; position:absolute; left:10px; top:10px; cursor:pointer; border:0" 
              src="/src/main/webapp/resources/img/img1.jpg"  width="100px" height="100px" onmousedown="startDrag(event, this)">
      </span>
    </div>
  </main>
  <footer>
    <h1>푸터 푸터 들어갈 자리</h1>
  </footer>


  <script src="/src/main/webapp/resources/JS/tabmenu.js">
  </script>

<script type="text/javascript">
        function abcd() {
			if ($("#viewCLOSET").css("display") == "none") {
				$("#viewCLOSET").css("display", "flex")
			} else {
				$("#viewCLOSET").css("display", "none")
			}
		}

    function select() {
			if ($("#choose").css("display") == "none") {
				$("#choose").css("display", "flex")
			} else {
				$("#choose").css("display", "none")
			}
		}

    function fit() {
			if ($("#fitting").css("display") == "none") {
				$("#fitting").css("display", "flex")
			} else {
				$("#fitting").css("display", "none")
			}
		}

    // 처음 이미지가 만들어지는 곳 지정
    var img_L = 50;
    var img_T = 50;
    var targetObj;

        function getLeft(o){
    return parseInt(o.style.left.replace('px', ''));
    }
    function getTop(o){
    return parseInt(o.style.top.replace('px', ''));
    }

    // 이미지를 움직이는 함수를 만들어 보겠습니다.
    // 처음있던 위치애서, 움직인값의 좌표만큼을 더해줍니다.
    function moveDrag(e){
    var e_obj = window.event? window.event : e;
    var dmvx = parseInt(e_obj.clientX + img_L);
    var dmvy = parseInt(e_obj.clientY + img_T);
    targetObj.style.left = dmvx +"px";
    targetObj.style.top = dmvy +"px";
    return false;
    }

    // 드래그를 시작하는 함수 입니다.
    // 마지막으로 움직인 좌표값에서, 이전움직였던 좌표값을 빼줍니다. == 움직인 좌표를 나타냅니다.
    // 움직였던 좌표에서 처음 드래그를 시작했던 좌표를 빼줍니다. 움직인 좌표를 나타내줍니다
    function startDrag(e, obj){
    targetObj = obj;
    var e_obj = window.event? window.event : e;
    img_L = getLeft(obj) - e_obj.clientX;
    img_T = getTop(obj) - e_obj.clientY;

    document.onmousemove = moveDrag;
    document.onmouseup = stopDrag;
    if(e_obj.preventDefault)e_obj.preventDefault();
    }

    // 드래그를 정지하는 함수 입니다.
    function stopDrag(){
    document.onmousemove = null;
    document.onmouseup = null;
    }

</script>

</body>

</html>